# VPS Ninja ‚Äî Development Summary

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω—ã–π Claude Code skill –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ —Ä–∞–±–æ—Ç—ã —Å VPS —á–µ—Ä–µ–∑ Dokploy.

### –§–∞–π–ª—ã –ø—Ä–æ–µ–∫—Ç–∞

```
vps-ninja-bot/
‚îú‚îÄ‚îÄ PRD.md                      # Product Requirements Document
‚îú‚îÄ‚îÄ ARCHITECTURE.md             # –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
‚îú‚îÄ‚îÄ SUMMARY.md                  # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îú‚îÄ‚îÄ .gitignore                  # –ò—Å–∫–ª—é—á–µ–Ω–∏—è –¥–ª—è git
‚îÇ
‚îî‚îÄ‚îÄ skill/                      # –°–∞–º skill (–≥–æ—Ç–æ–≤ –∫ —É—Å—Ç–∞–Ω–æ–≤–∫–µ)
    ‚îú‚îÄ‚îÄ README.md               # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
    ‚îú‚îÄ‚îÄ SKILL.md                # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª skill (16 KB)
    ‚îÇ
    ‚îú‚îÄ‚îÄ scripts/                # Shell-—Å–∫—Ä–∏–ø—Ç—ã (–∏—Å–ø–æ–ª–Ω—è–µ–º—ã–µ –æ–±—ë—Ä—Ç–∫–∏)
    ‚îÇ   ‚îú‚îÄ‚îÄ dokploy-api.sh      # Dokploy REST API wrapper
    ‚îÇ   ‚îú‚îÄ‚îÄ cloudflare-dns.sh   # CloudFlare DNS API wrapper
    ‚îÇ   ‚îú‚îÄ‚îÄ ssh-exec.sh         # SSH command executor
    ‚îÇ   ‚îî‚îÄ‚îÄ wait-ready.sh       # URL availability checker
    ‚îÇ
    ‚îú‚îÄ‚îÄ references/             # Reference guides (–ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞)
    ‚îÇ   ‚îú‚îÄ‚îÄ setup-guide.md      # –ì–∞–π–¥: –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ VPS
    ‚îÇ   ‚îú‚îÄ‚îÄ deploy-guide.md     # –ì–∞–π–¥: –¥–µ–ø–ª–æ–π –ø—Ä–æ–µ–∫—Ç–∞ (20 KB)
    ‚îÇ   ‚îú‚îÄ‚îÄ stack-detection.md  # –ü—Ä–∞–≤–∏–ª–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —Å—Ç–µ–∫–∞
    ‚îÇ   ‚îî‚îÄ‚îÄ dokploy-api-reference.md # API —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫
    ‚îÇ
    ‚îú‚îÄ‚îÄ templates/
    ‚îÇ   ‚îî‚îÄ‚îÄ setup-server.sh     # –°–∫—Ä–∏–ø—Ç –ø–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–æ–π –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ VPS
    ‚îÇ
    ‚îî‚îÄ‚îÄ config/
        ‚îú‚îÄ‚îÄ .gitignore          # –ó–∞—â–∏—Ç–∞ –æ—Ç –∫–æ–º–º–∏—Ç–∞ —Å–µ–∫—Ä–µ—Ç–æ–≤
        ‚îî‚îÄ‚îÄ servers.json.example # –ü—Ä–∏–º–µ—Ä –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
```

**–í—Å–µ–≥–æ:** 14 —Ñ–∞–π–ª–æ–≤, ~2941 —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞

---

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ skill

### 8 –∫–æ–º–∞–Ω–¥

| –ö–æ–º–∞–Ω–¥–∞ | –ß—Ç–æ –¥–µ–ª–∞–µ—Ç |
|:--------|:-----------|
| `/vps setup <ip> <password>` | –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç VPS —Å –Ω—É–ª—è: Dokploy, firewall, swap, fail2ban |
| `/vps deploy <github-url>` | –î–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç —Å –∞–≤—Ç–æ–æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ–º —Å—Ç–µ–∫–∞ |
| `/vps domain add <domain> <project>` | –î–æ–±–∞–≤–ª—è–µ—Ç –¥–æ–º–µ–Ω —Å CloudFlare DNS + SSL |
| `/vps db create <type> <name>` | –°–æ–∑–¥–∞—ë—Ç –ë–î (postgres/mysql/mongo/redis) |
| `/vps status` | –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å—Ç–∞—Ç—É—Å —Å–µ—Ä–≤–µ—Ä–∞ –∏ –≤—Å–µ—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤ |
| `/vps logs <project>` | –í—ã–≤–æ–¥–∏—Ç –ª–æ–≥–∏ (build –∏–ª–∏ runtime) |
| `/vps destroy <project>` | –£–¥–∞–ª—è–µ—Ç –ø—Ä–æ–µ–∫—Ç (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º) |
| `/vps config` | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π (—Å–µ—Ä–≤–µ—Ä—ã, CloudFlare) |

### –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Å—Ç–µ–∫–∏

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ:
- **Node.js**: Next.js, Nuxt, NestJS, Express, Remix, Vite, Angular, Gatsby
- **Python**: Django, FastAPI, Flask
- **Go**, **Rust**, **Ruby**, **Java**, **.NET**, **PHP**
- **Docker**: Dockerfile –∏–ª–∏ docker-compose.yml

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

- **Dokploy API** ‚Äî —Å–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–æ–≤, –¥–µ–ø–ª–æ–π, —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
- **CloudFlare API** ‚Äî –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ DNS A-–∑–∞–ø–∏—Å–µ–π
- **SSH** ‚Äî –ø—Ä—è–º–æ–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- **Git** ‚Äî –∫–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–µ–≤ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ü—Ä–∏–Ω—Ü–∏–ø—ã

1. **SKILL.md –∫–∞–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä** ‚Äî –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–æ–º–∞–Ω–¥—É –ø–æ `$0`, –∑–∞–≥—Ä—É–∂–∞–µ—Ç –Ω—É–∂–Ω—ã–π reference guide
2. **–õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** ‚Äî –≤ –∫–æ–Ω—Ç–µ–∫—Å—Ç –ø–æ–ø–∞–¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –Ω—É–∂–Ω–æ –¥–ª—è —Ç–µ–∫—É—â–µ–π –∫–æ–º–∞–Ω–¥—ã
3. **Shell-—Å–∫—Ä–∏–ø—Ç—ã –∫–∞–∫ stdlib** ‚Äî –¥–µ—Ç–µ—Ä–º–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –æ–±—ë—Ä—Ç–∫–∏ –Ω–∞–¥ API (retry, error handling, JSON parsing)
4. **–¢—Ä—ë—Ö—Ñ–∞–∑–Ω—ã–π deploy**:
   - –§–∞–∑–∞ 1: –ê–Ω–∞–ª–∏–∑ (git clone ‚Üí –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Å—Ç–µ–∫–∞ ‚Üí –ø–æ–∏—Å–∫ env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö)
   - –§–∞–∑–∞ 2: –£—Ç–æ—á–Ω–µ–Ω–∏–µ (–≤–æ–ø—Ä–æ—Å—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é ‚Äî —Ç–æ–ª—å–∫–æ —Å–µ–∫—Ä–µ—Ç—ã)
   - –§–∞–∑–∞ 3: –î–µ–ø–ª–æ–π (API calls ‚Üí CloudFlare DNS ‚Üí –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

### –î–∞–Ω–Ω—ã–µ

–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω—ã–π stateful —Ñ–∞–π–ª: `config/servers.json`
- –°–∫—Ä–∏–ø—Ç—ã **—Ç–æ–ª—å–∫–æ —á–∏—Ç–∞—é—Ç**
- Claude –ø–∏—à–µ—Ç —á–µ—Ä–µ–∑ Write tool
- Gitignored (–Ω–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç–∏—Ç—Å—è)

---

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å skill –≤ Claude Code
cp -r skill ~/.claude/skills/vps

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
brew install jq sshpass  # macOS
sudo apt install jq sshpass  # Linux
```

### –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

```bash
# 1. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å VPS
/vps setup 45.55.67.89 MyRootPassword123

# 2. –ù–∞—Å—Ç—Ä–æ–∏—Ç—å CloudFlare (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
/vps config cloudflare your-api-token

# 3. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
/vps deploy github.com/user/my-nextjs-app --domain app.example.com

# Claude —Å–ø—Ä–æ—Å–∏—Ç:
# - NEXTAUTH_SECRET = ?
# - –°–æ–∑–¥–∞—Ç—å PostgreSQL? –î–∞/–ù–µ—Ç

# –†–µ–∑—É–ª—å—Ç–∞—Ç:
# ‚úÖ –î–µ–ø–ª–æ–π –∑–∞–≤–µ—Ä—à—ë–Ω!
# URL: https://app.example.com
# –°—Ç–∞—Ç—É—Å: Running
```

---

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### Stack Detection

–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ø–æ—Ä—è–¥–∫–µ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞:
1. `docker-compose.yml` ‚Üí Docker Compose
2. `Dockerfile` ‚Üí Docker
3. `package.json` ‚Üí Node.js (–æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç —Ñ—Ä–µ–π–º–≤–æ—Ä–∫ –≤–Ω—É—Ç—Ä–∏)
4. `requirements.txt` ‚Üí Python
5. ... –∏ —Ç.–¥.

–ü–æ—Ä—Ç –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç—Å—è –∏–∑:
- Dockerfile EXPOSE
- –ö–æ–¥ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (.listen, uvicorn.run, –∏ —Ç.–¥.)
- –ö–æ–Ω—Ñ–∏–≥ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞ (vite.config, next.config)
- –î–µ—Ñ–æ–ª—Ç –ø–æ —Å—Ç–µ–∫—É

Env-–ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏–∑:
- `.env.example`, `.env.template`
- –ö–æ–¥ (`process.env.*`, `os.environ`, `os.Getenv`)
- Prisma/Drizzle schemas
- README.md

### Error Handling

5 —É—Ä–æ–≤–Ω–µ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫:
1. **–ö–æ–Ω—Ñ–∏–≥** ‚Üí "–°–µ—Ä–≤–µ—Ä –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω. –í—ã–ø–æ–ª–Ω–∏ /vps config ..."
2. **–°–µ—Ç—å/SSH** ‚Üí retry 2 —Ä–∞–∑–∞, –∑–∞—Ç–µ–º —Å–æ–æ–±—â–∏—Ç—å
3. **API 4xx** ‚Üí –ø–æ–∫–∞–∑–∞—Ç—å –æ—Ç–≤–µ—Ç, –æ–±—ä—è—Å–Ω–∏—Ç—å, –ø—Ä–µ–¥–ª–æ–∂–∏—Ç—å —Ñ–∏–∫—Å
4. **API 5xx** ‚Üí retry, SSH fallback –¥–ª—è –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏
5. **Build/Runtime** ‚Üí –ª–æ–≥–∏, –∞–Ω–∞–ª–∏–∑, –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- `servers.json` gitignored
- API-–∫–ª—é—á–∏/–ø–∞—Ä–æ–ª–∏ –º–∞—Å–∫–∏—Ä—É—é—Ç—Å—è –≤ –≤—ã–≤–æ–¥–µ
- `destroy` —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è
- DNS-–æ–ø–µ—Ä–∞—Ü–∏–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç —á—Ç–æ –∏–∑–º–µ–Ω–∏—Ç—Å—è
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –ø—Ä–∞–≤–∞ CloudFlare (DNS:Edit, Zone:Read)

---

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

| –ú–µ—Ç—Ä–∏–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|:--------|:---------|
| –í—Å–µ–≥–æ —Ñ–∞–π–ª–æ–≤ | 14 |
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | ~2941 |
| Shell-—Å–∫—Ä–∏–ø—Ç–æ–≤ | 5 (4 scripts + 1 template) |
| Reference guides | 4 |
| –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —Å—Ç–µ–∫–æ–≤ | 20+ |
| –ö–æ–º–∞–Ω–¥ | 8 |
| –†–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–æ –∑–∞ | ~2 —á–∞—Å–∞ |

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

### –î–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å skill –≤ Claude Code
2. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π VPS (DigitalOcean, Hetzner, Vultr)
3. –ó–∞–ø—É—Å—Ç–∏—Ç—å `/vps setup`
4. –ó–∞–¥–µ–ø–ª–æ–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π Next.js –ø—Ä–æ–µ–∫—Ç

### –î–ª—è —É–ª—É—á—à–µ–Ω–∏–π (v2)

- [ ] –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –∞–ª–µ—Ä—Ç—ã (Grafana, Prometheus)
- [ ] CI/CD –ø–∞–π–ø–ª–∞–π–Ω—ã (auto-deploy –ø–æ push)
- [ ] Backup-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç
- [ ] –ú—É–ª—å—Ç–∏—Å–µ—Ä–≤–µ—Ä–Ω—ã–π –∫–ª–∞—Å—Ç–µ—Ä (Docker Swarm multi-node)
- [ ] –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥—Ä—É–≥–∏—Ö –ø–∞–Ω–µ–ª–µ–π (Coolify, CapRover)
- [ ] GitHub App –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –¥–ª—è Dokploy

---

## –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- **PRD.md** ‚Äî —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è, –∫–æ–º–∞–Ω–¥—ã, —Å—Ü–µ–Ω–∞—Ä–∏–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- **ARCHITECTURE.md** ‚Äî —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞, data flows, –ø—Ä–∏–º–µ—Ä—ã –∫–æ–¥–∞ —Å–∫—Ä–∏–ø—Ç–æ–≤
- **skill/README.md** ‚Äî –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
- **skill/SKILL.md** ‚Äî —Å–∞–º skill (–º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä + inline-–∫–æ–º–∞–Ω–¥—ã)
- **skill/references/** ‚Äî –¥–µ—Ç–∞–ª—å–Ω—ã–µ –≥–∞–π–¥—ã –¥–ª—è setup –∏ deploy

---

## –ë–ª–∞–≥–æ–¥–∞—Ä–Ω–æ—Å—Ç–∏

- **Dokploy** ‚Äî open-source self-hosted PaaS
- **CloudFlare** ‚Äî DNS API
- **Claude Code** ‚Äî Agent Skills framework

---

**–ü—Ä–æ–µ–∫—Ç –≥–æ—Ç–æ–≤ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üöÄ
